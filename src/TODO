--------------------------------------------------------------------------
TODO

turn empty rooms into corner connections

--------------------------------------------------------------------------
DONE



--------------------------------------------------------------------------
PROBLEMS

copy scroll didnt work

leg tile wasn't drawn around lvl 3

--------------------------------------------------------------------------
IDEAS

equipment use and buff spells
    equipment buffs should have weight for each spelltype
    do buffs first, then do stat stuff with the weight of buffs substracted
    for example, if armor gets an invisibility buff, that might weigh 10 points, then armor rolls 15 total defense, substract 10 from that and you have 5 defense points left
    err on the side of generosity, but add at least some weight to all buffs

boss mobs
    guaranteed powerful item drop
    big health pool

friendly mobs
    make friendly mobs green
    picking up and dropping friendly enemy is like pokemon
        pick up an enemy like that and drop it and let it fight other enemies for you
    can attack friendly to prevent path blocks
    friendly mobs which attack other mobs
        other mobs should attack them as well?
    spell to summon friendly mob

find font that's not messed up in html5

scrolling for spell display, at some point spells won't fit in current area

start with some items?
    could be like a class system where you start with certain loadouts

maybe prune levels that are too hard
    after generation, "weigh" the level by adding together all helpful factors(items/equipment) and all unhelpful factors(enemies) and do a rough calculation of the overall "weight" of the level
    if it's something real bad like 0.5 helpful to unhelpful, generate the level again
        to figure out the calculation, generate bad levels on purpose and see what makes them bad
    if a level is generated with 0 items that's obviously a bad one

boss summon rituals
    doing some sequence of actions summons a special boss
        copying a copy scroll spawns copy scroll boss
        spawning 3 skeletons in same room spawns a necromancer at stairs
        killing 2 merchants spawns a merchant boss

movement by clicking? maybe attack too
    moves to the enemy and hits it once, then turns resume

change color scheme every 3 levels, maybe put a boss at every 3rd level too

maybe put a key onto an enemy sometimes

room with enemies where your hp is reduced but your attack is continiously increased

--------------------------------------------------------------------------
SPELL IDEAS

crab-hand
    crabs can be attacked but also can be used to gain +X to dmg for a limited time while taking damage periodically
    this is an aura
    crab disappears on end

mod equipment stat
    mod attack doesn't cover all options, it modifies natural attack only
    mod attack of weapon would only modify the weapon which presents an interesting choice of whether to enchant weapon now to get power now or save it for later to enchant a more powerful item

    mod attack should affect a specific element
    ex: enchant weapon with ice -> +1 ice attack

    could make it general: enchant equipment's ice power:
    increases attack or defense

    enchanting works like this:
        use the enchant item => set enchant flag
        if enchant flag => add "enchant" option in interact

    enchanting items/rings?
        could be fun

    two types of enchant:
        one that adds element power even if it's 0
        other that only increases existing element
            so enchanting ice on a sword with 1 phys dmg will do nothing 

modhealth everyattack
    something like leech
    most appropriate for weapons

