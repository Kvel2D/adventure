--------------------------------------------------------------------------
TODO

need to decrease merchant prices because less enemies can be killed

need to draw health / max health

unique icons for weapons

enemy encounters should be rare
    most of the level is picking up items and preparing for the next fight
    rooms with 2 enemies are a rare challenge
    with 3 is like a special encounter, even rarer

balancing
    enemy hp
        never too low so that enemies take at least some hits to kill
    player armor
        not too high - enemies should always deal at least some damage
        enemy attack    = 1-1.5, scaled by 1.0
        armor defense   = 1-2(3-6), scaled by 1.0

        also armor bonuses from potions and rings are important
    player attack
        never so high that enemies are one-shot
    max health bonuses should be important
        with no max health bonus, a single mob in a fight would deal more than hp's worth of damage, which means the player has to heal and take an extra hit
    attack bonus pot should only decrease the fight length, not make you oneshot enemies


passive/neutral should never chase
    only aggressive
ok to have too many potions
    balanced by the fact that i want to carry other items so have to leave some potions behind

--------------------------------------------------------------------------
DONE



--------------------------------------------------------------------------
PROBLEMS

fat connections still sometimes go out of room bounds

somehow picked up item and it still had buy component on

--------------------------------------------------------------------------
IDEAS

equipment use and buff spells
    equipment buffs should have weight for each spelltype
    do buffs first, then do stat stuff with the weight of buffs substracted
    for example, if armor gets an invisibility buff, that might weigh 10 points, then armor rolls 15 total defense, substract 10 from that and you have 5 defense points left
    err on the side of generosity, but add at least some weight to all buffs

boss mobs
    guaranteed powerful item drop
    big health pool

friendly mobs
    make friendly mobs green
    picking up and dropping friendly enemy is like pokemon
        pick up an enemy like that and drop it and let it fight other enemies for you
    can attack friendly to prevent path blocks
    friendly mobs which attack other mobs
        other mobs should attack them as well?
    spell to summon friendly mob

find font that's not messed up in html5

scrolling for spell display, at some point spells won't fit in current area

boss summon rituals
    doing some sequence of actions summons a special boss
        copying a copy scroll spawns copy scroll boss
        spawning 3 skeletons in same room spawns a necromancer at stairs
        killing 2 merchants spawns a merchant boss

change color scheme every 3 levels, maybe put a boss at every 3rd level too

room with enemies where your hp is reduced but your attack is continiously increased

insert random patterns in rooms sometimes
    cross-sections
    columns(series of one-off blocks)
    hole in middle

vary room geometry by level
    restrict sizes to certain ranges
        all small rooms or all big rooms
        also connection factors

make all the room types share their chances, the current layered chance system is confusing

equipment names

--------------------------------------------------------------------------
SPELL IDEAS

crab-hand
    crabs can be attacked but also can be used to gain +X to dmg for a limited time while taking damage periodically
    this is an aura
    crab disappears on end

mod equipment stat
    the use item should be separate from scroll
        "enchanting stone" or something
    mod attack doesn't cover all options, it modifies natural attack only
    mod attack of weapon would only modify the weapon which presents an interesting choice of whether to enchant weapon now to get power now or save it for later to enchant a more powerful item

    mod attack should affect a specific element
    ex: enchant weapon with ice -> +1 ice attack

    could make it general: enchant equipment's ice power:
    increases attack or defense

    enchanting works like this:
        use the enchant item => set enchant flag
        if enchant flag => add "enchant" option in interact

    enchanting items/rings?
        could be fun

    two types of enchant:
        one that adds element power even if it's 0
        other that only increases existing element
            so enchanting ice on a sword with 1 phys dmg will do nothing 

modhealth everyattack
    something like leech
    most appropriate for weapons

